# 运维工程师面试
要求，熟悉linux、shell、网络、系统安全；
## 基本
1，查看网络情况的命令，例如当前服务器的连接有哪些，端口使用情况?
2，linux环境变量文件有哪些？
3，修改文件权限的命令？
4，添加路由的命令？
5，如何让脚步后台运行？
6，如何使用 awk 列出 UID 小于 100 的用户 ?

```sh
awk -F: '$3<100' /etc/passwd
```
7，shell脚本，if条件判断中，判断目录是否存在的方法是？
8，如何配置服务开机自启动？
把操作命令写到`/etc/rc.local`文件。
9，查看文件夹大小的命令
du
10，配置磁盘挂载信息的文件
/etc/fstab
11，`grep -v`的作用

## 中级
1，umask值是0022，意味着什么？
2，gateway网关的作用？
TCP/IP协议也会根据子网掩码判定两个网络中的主机处在不同的网络里。而要实现这两个网络之间的通信，则必须通过网关。一台主机可以有多个网关。默认网关的意思是一台主机如果找不到可用的网关，就把数据包发给默认指定的网关，由这个网关来处理数据包。现在主机使用的网关，一般指的是默认网关。
3，ssh连接建立比较慢，可能原因？
4，如何升级openssl，有哪些风险，如何应对？
5，如何创建本地yum源？
6，如何启停指定网卡？
7，ipmi的作用？
8，如何在开机启动中以指定用户运行指定命令？
9，操作系统中有哪三个常用的流？
10，如何获取文本文件的第 10 行 ?

```sh
head -10 file_path|tail -1
# 或者
sed -n '9p' file_path
```

11，如何调试bash脚本？
12，查看服务器最近登录用户？
13，1>/dev/null 2>&1的含义
14，如何限制用户最多打开的文件数

编辑文件`/etc/security/limits.conf`，在尾部添加:

```
chookin - nofile 655360
```
就配置了用户chookin最多打开的文件数。到用户chookin环境下执行`ulimit -n`校验该配置是否生效。

15，root密码忘记了，如何处理？
进入单用户模式。
16，服务器A要ssh免密码访问服务器B，是把哪个服务器的公钥内容加入到哪个服务器的授权key文件中？
把服务器A的。

## 高级
1，通过kill杀死病毒的进程，病毒还会重新启动，原因可能有？

- 守护进程；
- 配置了crontab

2，如何跟踪进程的内核调用？
3，shell函数中echo和return有什么区别？
4，僵尸进程产生原因？
通过ps命令，我们可以看到该进程的状态为Z(表示僵死).
产生原因：在子进程终止后到父进程调用wait()前的时间里，子进程被称为zombie；
    具体a. 子进程结束后向父进程发出SIGCHLD信号，父进程默认忽略了它
            b. 父进程没有调用wait()或waitpid()函数来等待子进程的结束
            c. 网络原因有时会引起僵尸进程；
5，在/etc/resolv.cnf中配置了域名解析，但不起作用，原因可能有哪些？
确保可用dns解析，即/etc/nsswitch.conf文件中hosts使用了dns.
6，top命令执行后，显示的load average，比如说`0.07, 0.07, 0.02`，是什么意思？
7，linux系统目录的权限被改乱了，如何修复？

- 通过一台权限正常的Linux（最好内核版本和故障服务器相同） 通过getfacl -R / >systemp.bak将这个正常系统的/目录下所有文件的权限都备份保存在systemp.bak中
- 在异常服务器中执行命令setfacl --restore=systemp.bak即可将现在的系统权限恢复成和正常系统一样。
